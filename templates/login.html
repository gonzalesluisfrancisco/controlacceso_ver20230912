{% load static %}
<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="shortcut icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
  <title>AESA-DIACSA Control</title>
  <link rel="stylesheet" href="{% static 'style.css' %}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>
  <div class="bg-img">
    <div class="content2">
      <header>AESA - DIACSA</header>
      <header>CONTROL DE PERSONAL AL INTERIOR DE MINA</header>
    </div>
    <div class="content">
      <header>Autorización de Ingreso</header>
      <form action="" method="POST">
        {% csrf_token %}
        <div class="field" name="PantallaLogin">
          <span class="fa fa-user"></span>
          <input type="text" required placeholder="Usuario" id="username" name="username">
        </div>
        <div class="field space" name="PantallaLogin">
          <span class="fa fa-lock"></span>
          <input type="password" class="pass-key" required placeholder="Password" id="password" name="password">
          <span class="show">SHOW</span>
        </div>
        <div class="g-recaptcha space" name="PantallaLogin" data-sitekey="6LeSdM0nAAAAAALAPJ4coo0lOGH0s22aFX6cpIQB">
        </div>
        <div class="field space" name="PantallaLogin">
          <input class="BotonAcceder" id="acceder" type="button" value="ACCEDER" onclick="EnviarCredenciales()" />
        </div>
        <div class="mensajecontrasena" name="PantallaLogin">
          <p onclick="MostrarContrasenaOlvidada()">He olvidado mi contraseña</p>
        </div>
        <div class="mensaje" name="PantallaContrasenaOlvidada">
          <p>Se le enviara sus datos de acceso al correo registrado</p>
        </div>
        <div class="field" name="PantallaContrasenaOlvidada">
          <span class="fa fa-envelope"></span>
          <input type="text" required placeholder="Correo" id="correo" name="correo">
        </div>
        <div class="field space" name="PantallaContrasenaOlvidada">
          <input class="BotonAcceder" id="enviar" type="button" value="ENVIAR" onclick="EnviarContrasenaOlvidada()" />
        </div>

        <div class="mensaje" name="PantallaToken">
          <p id="MensajeToken">Un token de acceso ha sido enviado a su correo</p>
        </div>
        <div class="field" name="PantallaToken">
          <span class="fa fa-key"></span>
          <input type="text" required placeholder="Token" id="token" name="token">
        </div>
        <div class="field space" name="PantallaToken">
          <input class="BotonAcceder" id="verificar" type="button" value="VERIFICAR" onclick="EnviarToken()" />
        </div>
      </form>
    </div>

  </div>
  <script src="{% static 'scripts.js' %}"></script>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"
    integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    const pass_field = document.querySelector('.pass-key');
    const showBtn = document.querySelector('.show');
    showBtn.addEventListener('click', function () {
      if (pass_field.type === "password") {
        pass_field.type = "text";
        showBtn.textContent = "HIDE";
        showBtn.style.color = "#3498db";
      } else {
        pass_field.type = "password";
        showBtn.textContent = "SHOW";
        showBtn.style.color = "#222";
      }
    });

    window.addEventListener("resize", function () {
      console.log("Ancho de pantalla actual: " + window.innerWidth + "px");
    });

  </script>

</body>

</html>
